@import "../components";
@import "foundation/components/panels";
@import "foundation/components/alert-boxes";

.feed-header {
  @include grid-row(nest);

  display: none;
  margin-top: 0.2em;
  margin-bottom: 0.2em;

  & > .inner {
    @include grid-column(12);

    ul {
      margin-bottom: 0em;

      @media only screen {
        // margin-top: 1.8em;
      }

      @media only screen and (min-width: 48em) {
        margin-top: 0em;
        margin-bottom: 0em;
      }
    }

    h4, h5 {
      width: 100%;
    }

    h4 {
      margin-bottom: 0px;

      &.show-for-small {
        font-size: 1.5em;
        text-transform: uppercase;
        display: inline-block;
        zoom: 1;
        letter-spacing: 1px;

        &.wide {
          letter-spacing: 2px;
        }

        &.wider {
          letter-spacing: 1px;
        }
      }
    }

    h5 {
      &.show-for-small {
        color: #888;
        display: inline-block;
        font-size: 1em;
        zoom: 1;

        &.wide {
          letter-spacing: 2px;
        }

        &.wider {
          letter-spacing: 3px;
        }

        .sub-header {
          letter-spacing: 1px;
        }
      }
    }
  }
}

@include keyframe(feedInserted);

.feed-item {
  @include standard-item();

  .photo {
    margin-left: -0.5em;
    margin-right: -0.5em;
    margin-bottom: 0em;
    overflow: hidden;
    height: 200px;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;

    img {
      min-height: 100%;
      min-width: 100%;
      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
      filter: alpha(opacity=0);
      opacity: 0;
    }
  }
}

.feed {
  @include grid-column(12, $collapse: true);

  // @media only screen and (min-width: 48em) {
  //   @include grid-column($feed-columns-large);

  //   // padding-left: 0em;
  // }

  z-index: 10;

  .feed-item:first-of-type {
    margin-top: $standard-margin;
  }

  li { 
    p {
      display: inline;
      position: relative;
      top: -4px;
      margin-left: 8px;
    }

    i {
      -webkit-transition: color .5s;
      -moz-transition: color .5s;
      -o-transition: color .5s;
      transition: color .5s;
      font-size: 18px;
      overflow: hidden;
      line-height: 1.5;
    }
  }

  .feed-list {
    @include grid-row(nest);

    margin: 0em;
    margin-bottom: $standard-margin;

    @media only screen and (min-width: 48em) {
      // margin: $standard-margin;

      &.faded {
        opacity: 0.5;
      }
    }

    & > .content {
      @include grid-column(12, $collapse: true);

    }
  }

  .feed-more {
    @include more-button();

    padding: 0em;
    margin-bottom: 0em;
  }
}

@include keyframe(mapInserted);
@include keyframe(galleryInserted);

.feed-extra {
  @include grid-column(12, $collapse: true);

  z-index: 0;
  padding: 0em;
  padding-bottom: 5em;

  @media only screen and (min-width: 48em) {
    @include grid-column($feed-extra-columns-large, $collapse: true);
  }

  &.no-photos {
    padding-bottom: 0em;

    .gallery {
      display: none;
    }
  }

  .alert-box {
    @include alert-style($secondary-color);

    border-left: none;
    border-right: none;
  }

  .map {
    @include grid-row(nest);
    @include animation(mapInserted);
    @include radius();

    width: 100%;
    z-index: 1;
    margin: 0;

    & > .inner {
      @include grid-column(12, $collapse: true);

      padding: 0;
      height: $map-height-small;
      // margin-bottom: 1em;

      @media only screen and (min-width: 48em) {
        height: $map-height-large;
      }

      #map-canvas {
        img { 
          max-width: none;
        }
        
        label { 
          width: auto; 
          display: inline; 
        }
      }

      .alert-box {
        margin-top: 0em;
        line-height: $map-height-small - 20px;

        @media only screen and (min-width: 48em) {
          line-height: $map-height-large - 20px;
        }
      }

      .infoBox {
        & > img {
          z-index: 2
        }

        .map-info .inner {
          margin-top: emCalc(-15px);
        }
      }
    }
  }

  .gallery {
    @include grid-row(nest);
    @include animation(galleryInserted);

    // margin: 0 !important;
    position: absolute;
    top: 0;
    margin: 0;
    z-index: -1;
    width: 100%;

    &.visible {
      z-index: 1;
    }

    & > .inner {
      @include grid-column(12, $collapse: true);

      // padding: 0;

      .recent-photos {
        height: $photo-feed-height-small;

        @media only screen and (min-width: 48em) {
          height: $photo-feed-height-large;
        }
      }

      .galleria-map {
        width: 50%;
        top: 15px;
        right: 15px;
        z-index: 2;
        position: absolute;
        text-align: right;
        color: gray;
        font-style: italic;

        &:before {
          content: "Back to Map";
        }

        &:hover {
          cursor: pointer;
        }
      }
    }
  }

  .gallery-more {
    @include more-button();

    display: none;
  }
}

.feed li,
.groups li {
  cursor: pointer;

  &:hover { color: $primary-color; }
}